<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heatmap & Power Consumption Chart</title>

    <!-- Include Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Include Highcharts -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/heatmap.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
</head>
<body>

<div class="container mt-4">
    <div class="row">
        <!-- Heatmap Chart -->
        <div class="col-xl-6 col-lg-6">
            <div class="card shadow mb-4">
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Heatmap Consumption</h6>
                </div>
                <div class="card-body">
                    <div class="chart-area">
                        <div id="heatmap_consumption" style="height: 400px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Power Consumption Chart -->
        <div class="col-xl-6 col-lg-6">
            <div class="card shadow mb-4">
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Power Consumption</h6>
                    <div id="exportdiv4"></div>
                </div>
                <div class="card-body">
                    <div class="chart-area">
                        <div id="chartdiv4" style="height: 400px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Heatmap Chart
    Highcharts.chart('heatmap_consumption', {
    chart: {
        type: 'heatmap',
        marginTop: 100,
        marginBottom: 80,
        zoomType: 'xy',
        backgroundColor: '#f8f9fc',  // Match with Bootstrap card background
        plotBackgroundColor: '#f8f9fc' // Ensuring the plot area matches
    },
    title: {
        text: 'Building 2 Consumption Heatmap 2020-21'
    },
    xAxis: [{
        categories: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', 'January', 'February', 'March', 'April']
    }],
    yAxis: {
        categories: ['Floor 1', 'Floor 2', 'Floor 3', 'Floor 4', 'Floor 5'],
        title: null
    },
    colorAxis: {
        stops: [
            [0, '#3060cf'],
            [0.5, '#005032'],
            [0.8, '#9a6e00'],
            [1, '#850c00']
        ],
        min: 1,
        max: 10000,
        startOnTick: false,
        endOnTick: false,
        labels: {
            format: '{value} kWh'
        }
    },
    legend: {
        align: 'right',
        layout: 'vertical',
        margin: 0,
        verticalAlign: 'top',
        y: 80,
        x: 20,
        symbolHeight: 225
    },
    tooltip: {
        formatter: function () {
            return '<b>' + this.series.yAxis.categories[this.point.y] + '</b> Consumed <b>' + this.point.value + ' kWh</b> in ' + this.series.xAxis.categories[this.point.x];
        }
    },
    series: [{
        name: 'Consumed per month and floor',
        borderWidth: 1,
        data: [
            [0, 0, 1000], [0, 1, 1912], [0, 2, 8124], [0, 3, 2544], [0, 4, 6127],
            [1, 0, 7221], [1, 1, 5458], [1, 2, 6568], [1, 3, 1417], [1, 4, 4845],
            [2, 0, 8545], [2, 1, 8534], [2, 2, 9898], [2, 3, 6478], [2, 4, 7452],
            [3, 0, 7452], [3, 1, 8382], [3, 2, 6814], [3, 3, 9819], [3, 4, 6856],
            [4, 0, 5438], [4, 1, 7855], [4, 2, 7148], [4, 3, 8117], [4, 4, 6115],
            [5, 0, 8988], [5, 1, 7532], [5, 2, 5612], [5, 3, 4556], [5, 4, 7120],
            [6, 0, 6513], [6, 1, 4445], [6, 2, 8458], [6, 3, 9845], [6, 4, 9455],
            [7, 0, 7451], [7, 1, 6232], [7, 2, 8652], [7, 3, 6265], [7, 4, 8540],
            [8, 0, 5585], [8, 1, 9777], [8, 2, 5273], [8, 3, 6454], [8, 4, 8884],
            [9, 0, 4887], [9, 1, 7114], [9, 2, 7831], [9, 3, 8428], [9, 4, 4591],
            [10, 0, 2887], [10, 1, 4114], [10, 2, 5831], [10, 3, 2428], [10, 4, 5491],
            [11, 0, 4353], [11, 1, 2342], [11, 2, 2342], [11, 3, 5645], [11, 4, 2342],
            [12, 0, 2342], [12, 1, 3212], [12, 2, 7443], [12, 3, 5447], [12, 4, 2235],
            [13, 0, 7653], [13, 1, 8533], [13, 2, 9356], [13, 3, 8999], [13, 4, 4367],
            [14, 0, 8656], [14, 1, 9832], [14, 2, 8945], [14, 3, 9875], [14, 4, 8674],
            [15, 0, 9210], [15, 1, 5345], [15, 2, 6574], [15, 3, 5346], [15, 4, 7633]
        ],
        dataLabels: {
            enabled: false,
            color: '#000000'
        }
    }]
});
</script>

</body>
</html>
